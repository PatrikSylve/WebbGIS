<html>
<head>

  <title>WebGL test</title>
  <script id="vert-shader" type="notjs" >
      // an attribute will receive data from a buffer    https://webglfundamentals.org/webgl/lessons/webgl-fundamentals.html
      attribute vec2 a_position;

      uniform vec2 u_resolution;


      void main() {

      // convert the position from pixels to 0.0 to 1.0
      vec2 zeroToOne = a_position / u_resolution;

      // convert from 0->1 to 0->2
      vec2 zeroToTwo = zeroToOne * 2.0;

      // convert from 0->2 to -1->+1 (clipspace)
      vec2 clipSpace = zeroToTwo - 1.0;

      gl_Position = vec4(clipSpace.x, clipSpace.y, 0, 1);
      }

  </script>
  <script id="frag-shader" type="notjs" src="simpleFrag.frag">
      // fragment shaders don't have a default precision so we need
      // to pick one. mediump is a good default
      precision mediump float;
      uniform float u_red;
      void main() {
        // gl_FragColor is a special variable a fragment shader
        // is responsible for setting

        gl_FragColor = vec4(0, 0, u_red, 1); // return redish-purple
      }
  </script>


  <script type="text/javascript">



  // create and compile shader

  function createShader(gl, type, source) {
  var shader = gl.createShader(type);
  gl.shaderSource(shader, source);
  gl.compileShader(shader);
  var success = gl.getShaderParameter(shader, gl.COMPILE_STATUS);
  if (success) {
      alert("success");
  return shader;
  }
  console.log(gl.getShaderInfoLog(shader));
  gl.deleteShader(shader);
  }

  // link shader to program
  function createProgram(gl, vertexShader, fragmentShader) {
      var program = gl.createProgram();
      gl.attachShader(program, vertexShader);
      gl.attachShader(program, fragmentShader);
      gl.linkProgram(program);
      var success = gl.getProgramParameter(program, gl.LINK_STATUS);
      if (success) {
      return program;
      }

      console.log(gl.getProgramInfoLog(program));
      gl.deleteProgram(program);
  }

  function clearCanvas(gl){
  gl.clearColor(0, 0, 0, 0);
  gl.clear(gl.COLOR_BUFFER_BIT);
  }

  function setRed(){
     var red=0.5;

      return red;
  }
</script>


  <script src="https://cdn.rawgit.com/openlayers/openlayers.github.io/master/en/v5.3.0/build/ol.js"></script>
  <script src="https://webglfundamentals.org/webgl/resources/webgl-utils.js"></script>
  <script src="https://webglfundamentals.org/webgl/resources/webgl-lessons-helper.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.4.4/proj4.js"</scrip>
<script src="map.js"></script>
<link rel="stylesheet" href="https://cdn.rawgit.com/openlayers/openlayers.github.io/master/en/v5.3.0/css/ol.css">
    <script src="map.js"></script>
    </head>
    <body >

      <div id="map" class="map"></div>
    </body>
</html>
